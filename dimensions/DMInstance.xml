<?xml version="1.0" encoding="utf-8"?>
<SDatabase xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <StreamProperties>
    <StreamHub>
      <DataSources>
        <DataSource DS_id="DS-01">
          <WindowStorageProperties>
            <size units="rows">5</size>
            <time units="seconds">5</time>
            <velocity units="rows">3</velocity>
            <type>sliding</type>
            <origin>latest</origin>
          </WindowStorageProperties>
          <Fileproperties>
            <FilePath>stream</FilePath>
            <FileType>.csv</FileType>
            <FileMode>read</FileMode>
            <FileAppend>true</FileAppend>
          </Fileproperties>
          <FileContents>
            <DimensionVariableKeys>
              <DimensionVariableKey type="VARCHAR(255)" DimensionTable="PRODUCT">PRODUCTKEY</DimensionVariableKey>
              <DimensionVariableKey type="VARCHAR(255)" DimensionTable="REPORTINGDATE">TIMEKEY</DimensionVariableKey>
              <DimensionVariableKey type="VARCHAR(255)" DimensionTable="CUSTOMER">CUSTOMERKEY</DimensionVariableKey>
              <DimensionVariableKey type="VARCHAR(255)" DimensionTable="SALESPERSON">SALESPERSONKEY</DimensionVariableKey>
            </DimensionVariableKeys>
            <FactVariables>
              <FactVariable type="DECIMAL" property="NOT NULL">ORDER_VALUE</FactVariable>
              <FactVariable type="DECIMAL" property="NOT NULL">COST_VALUE</FactVariable>
              <FactVariable type="DECIMAL" property="NOT NULL">SALE_UNITS</FactVariable>
            </FactVariables>
          </FileContents>
        </DataSource>
      </DataSources>
    </StreamHub>
    <StreamProcessor>
      <Storageproperties>
        <Summary>
          <SummaryProperties>
            <SummaryItem type="INTEGER" property="PRIMARY KEY">Query_Id</SummaryItem>
            <SummaryItem type="VARCHAR(255)" property="NOT NULL">Fact_Variable</SummaryItem>
            <SummaryItem type="VARCHAR(255)" property="NOT NULL">Aggregate_Function</SummaryItem>
            <SummaryItem type="INTEGER" property="">Group_Id</SummaryItem>
            <SummaryItem type="VARCHAR(255)" property="">Join_Key</SummaryItem>
            <SummaryItem type="VARCHAR(255)" property="">Table_Name</SummaryItem>
            <SummaryItem type="DECIMAL" property="DEFAULT 0">Result</SummaryItem>
          </SummaryProperties>
          <GroupProperties>
            <GroupItem type="INTEGER" property="PRIMARY KEY AUTO_INCREMENT">Id</GroupItem>
            <GroupItem type="INTEGER" property="NOT NULL">Group_Id</GroupItem>
            <GroupItem type="VARCHAR(255)" property="NOT NULL">Attribute</GroupItem>
          </GroupProperties>
        </Summary>
        <Log>
          <LogItem type="INTEGER" property="PRIMARY KEY AUTO_INCREMENT">Log_Id</LogItem>
          <LogItem type="DATETIME" property="NOT NULL">TimeStamp</LogItem>
          <LogItem type="INTEGER" property="NOT NULL">Query_Id</LogItem>
          <LogItem type="VARCHAR(255)" property="NOT NULL">Fact_Variable</LogItem>
          <LogItem type="VARCHAR(255)" property="NOT NULL">Aggregate_Function</LogItem>
          <LogItem type="DECIMAL" property="NOT NULL">Window_Result</LogItem>
        </Log>
      </Storageproperties>
      <QueryRepositories>
        <QueryRepo type="Aggregate">
          <Query id="1">
            <FactVariable>SALE_UNITS</FactVariable>
            <AggregateFunction>SUM</AggregateFunction>
          </Query>
          <Query id="2">
            <FactVariable>SALE_UNITS</FactVariable>
            <AggregateFunction>SUM</AggregateFunction>
            <GroupBy join="CUSTOMERKEY" table="CUSTOMER">
              <Group>CUSTOMERCITY</Group>
              <Group>CUSTOMERTYPE</Group>
            </GroupBy>
          </Query>
          <Query id="3">
            <FactVariable>SALE_UNITS</FactVariable>
            <AggregateFunction>COUNT</AggregateFunction>
          </Query>
          <Query id="4">
            <FactVariable>SALE_UNITS</FactVariable>
            <AggregateFunction>AVG</AggregateFunction>
          </Query>
          <Query id="5">
            <FactVariable>SALE_UNITS</FactVariable>
            <AggregateFunction>MIN</AggregateFunction>
          </Query>
          <Query id="6">
            <FactVariable>COST_VALUE</FactVariable>
            <AggregateFunction>MAX</AggregateFunction>
          </Query>
          <Query id="7">
            <FactVariable>COST_VALUE</FactVariable>
            <AggregateFunction>SUM</AggregateFunction>
          </Query>
          <Query id="8">
            <FactVariable>COST_VALUE</FactVariable>
            <AggregateFunction>AVG</AggregateFunction>
            <GroupBy join="PRODUCTKEY" table="PRODUCT">
              <Group>CATEGORY</Group>
            </GroupBy>
          </Query>
          <Query id="9">
            <FactVariable>COST_VALUE</FactVariable>
            <AggregateFunction>COUNT</AggregateFunction>
          </Query>
          <Query id="10">
            <FactVariable>COST_VALUE</FactVariable>
            <AggregateFunction>AVG</AggregateFunction>
          </Query>
          <Query id="11">
            <FactVariable>COST_VALUE</FactVariable>
            <AggregateFunction>MIN</AggregateFunction>
          </Query>
          <Query id="12">
            <FactVariable>COST_VALUE</FactVariable>
            <AggregateFunction>MAX</AggregateFunction>
          </Query>
          <Query id="13">
            <FactVariable>ORDER_VALUE</FactVariable>
            <AggregateFunction>SUM</AggregateFunction>
          </Query>
          <Query id="14">
            <FactVariable>ORDER_VALUE</FactVariable>
            <AggregateFunction>AVG</AggregateFunction>
            <GroupBy join="SALESPERSONKEY" table="SALESPERSON">
              <Group>SALESPERSONTYPE</Group>
            </GroupBy>
          </Query>
          <Query id="15">
            <FactVariable>ORDER_VALUE</FactVariable>
            <AggregateFunction>COUNT</AggregateFunction>
          </Query>
          <Query id="16">
            <FactVariable>ORDER_VALUE</FactVariable>
            <AggregateFunction>AVG</AggregateFunction>
          </Query>
          <Query id="17">
            <FactVariable>ORDER_VALUE</FactVariable>
            <AggregateFunction>MIN</AggregateFunction>
          </Query>
          <Query id="18">
            <FactVariable>ORDER_VALUE</FactVariable>
            <AggregateFunction>MAX</AggregateFunction>
          </Query>
        </QueryRepo>
      </QueryRepositories>

    </StreamProcessor>
  </StreamProperties>
  <DWHProperties>
    <DimensionTables>
      <DimensionTable name="PRODUCT">
        <DimensionVariable type="VARCHAR(255)" property="PRIMARY KEY">PRODUCTKEY</DimensionVariable>
        <DimensionVariable type="VARCHAR(255)" property="NOT NULL">PRODUCTNAME</DimensionVariable>
        <DimensionVariable type="VARCHAR(255)" property="NOT NULL">CATEGORY</DimensionVariable>
      </DimensionTable>
      <DimensionTable name="REPORTINGDATE">
        <DimensionVariable type="VARCHAR(255)" property="PRIMARY KEY">TIMEKEY</DimensionVariable>
        <DimensionVariable type="VARCHAR(8)" property="NOT NULL">Date</DimensionVariable>
        <DimensionVariable type="INT" property="NOT NULL">DAY</DimensionVariable>
        <DimensionVariable type="INT" property="NOT NULL">MONTH</DimensionVariable>
        <DimensionVariable type="INT" property="NOT NULL">YEAR</DimensionVariable>
        <DimensionVariable type="INT" property="NOT NULL">WEEKDAY</DimensionVariable>
      </DimensionTable>
      <DimensionTable name="CUSTOMER">
        <DimensionVariable type="VARCHAR(255)" property="PRIMARY KEY">CUSTOMERKEY</DimensionVariable>
        <DimensionVariable type="VARCHAR(255)" property="NOT NULL">CUSTOMERCITY</DimensionVariable>
        <DimensionVariable type="VARCHAR(255)" property="NOT NULL">CUSTOMERTYPE</DimensionVariable>
      </DimensionTable>
      <DimensionTable name="SALESPERSON">
        <DimensionVariable type="VARCHAR(255)" property="PRIMARY KEY">SALESPERSONKEY</DimensionVariable>
        <DimensionVariable type="VARCHAR(255)" property="NOT NULL">SALESPERSONTYPE</DimensionVariable>
        <DimensionVariable type="VARCHAR(255)" property="NOT NULL">SALESPERSONEXPERIENCE</DimensionVariable>
      </DimensionTable>
    </DimensionTables>
    <FactVariables>
      <FactVariable>ORDER_VALUE</FactVariable>
      <FactVariable>COST_VALUE</FactVariable>
      <FactVariable>SALE_UNITS</FactVariable>
    </FactVariables>
    <Facts>
      <Fact>
        <DimensionValue>string</DimensionValue>
        <FactVariable name="string">-4729239.7650942</FactVariable>
      </Fact>
    </Facts>
    <AggregateFunctions>
      <AggregateFunction>string</AggregateFunction>
    </AggregateFunctions>
<!--    <QueryList>-->
<!--      <Query id="01">-->
<!--        <AggregateFunction>sum</AggregateFunction>-->
<!--        <FactVariable>ORDER_VALUE</FactVariable>-->
<!--      </Query>-->
<!--      <Query id="02">-->
<!--        <AggregateFunction>sum</AggregateFunction>-->
<!--        <FactVariable>COST_VALUE</FactVariable>-->
<!--      </Query>-->
<!--      <Query id="03">-->
<!--        <AggregateFunction>sum</AggregateFunction>-->
<!--        <FactVariable>SALE_UNITS</FactVariable>-->
<!--      </Query>-->
<!--    </QueryList>-->
  </DWHProperties>
</SDatabase>
